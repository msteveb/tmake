Publish
-------
The idea here is that normally any files referred to in a build.spec
relate to files found in that directory.

But sometimes files need to be shared across directories.
Typically this will be:
- Header files
- Host executables and scripts
- Libraries

Instead of having each command which needs these things refer
to the various directories which contain them, we "publish" these
shared files to a top level directory, such as _publish
Ideally we do this with hard links (if supported) so that
if an error occurs (say in a header file) and the file is edited,
it will be the original file which is edited.
If hard links aren't supported, soft links or simply copying will work too.

Unlike Install where the installed files are never dependencies, these
published files become the dependency via the chain:

  dir2/target.o <- _publish/include/file.h <- dir1/file.h

Out of tree build
-----------------

tmake TODO
----------
* Add support for per-directory rules. Probably need something like Jam's <grist>
  - except I will probably use "path/from/top" as the grist
* Read project.spec and build.spec in subdirs
* Have a 'tmake -init' which will generate stub Makefiles (if they don't exist)
  - This should probably be run by configure
* Allow detection of build rule dependencies (project.spec, build.spec, settings.conf)
  and reload rules.
* Work out a good arrangement for the distribution of:
  - low level rules
  - high level rules
  - default rule base
  - local customisations
* How to add rules for new Object types?
  - Currently just OBJRULES etc.
* Add parallel build support.
  - With exec &, and os.wait
* Support Test, Publish*
* Support shared libraries
* Do proper getopt processing in tmake
* Record commands used to build targets in a cache
* Publish includes, libs, bins to a dir as ungristed
* Need support for host executables with (at least):
  - HostExecutable
  - HostCFlags
  - Use CC_FOR_BUILD
* rename the project to autoproj or autoproject when it is nearing the capabilities
  for automake (although there are projects by both of those names)
* Load should probably load values into a ::tmake(config) dictionary and
  ifconfig should look there
  - Perhaps it is possible to also import certain of these settings (by glob)
    as global variables

Done
----
* Add a version number and --version
* Add --help
* Add getopt and use it like automf for Executable --test --install=/blah ...
* Need a way to specify that a single command creates multiple targets.
  - something like: target {t1 t2 t3} ...
  - then create an "aliases" table which points to the target: aliases(t1) -> targets(t1 t2 t3)
  - when an alias needs to be built, lookup the rule
* Use source location even when unable to build something to show what rules
  were used to determine that something was needed. Perhaps look back along
  tmake(current). This is done, but could be formatted better.
* Scan for header file dependencies
  - How to only notice headers we care about?
  - Just before building abc.c, scan for headers
  - If we have a rule for making a found header, mark it as a dependency
  - Otherwise ignore it
  - Note that Jam uses NOCARE to ignore these dependencies if they file doesn't exist
    - But that causes problems when the headers are generated...
* header scan should take include path(s) into consideration
* Add user errors and internal errors like autosetup/automf
* Modify to support jimsh, bootstrap jimsh and Tcl8.5
